---
autoware_states_motion:
  -
    StateName: Start
    Transition:
      -
        Key: started
        Target: WaitDriveReady
    Parent: ~
  -
    StateName: WaitDriveReady
    Transition:
      -
        Key: mission_is_compatible
        Target: WaitEngage
      -
        Key: emergency
        Target: MotionEmergency
    Parent: ~
  -
    StateName: WaitEngage
    Transition:
      -
        Key: operation_start
        Target: Drive
      -
        Key: emergency
        Target: MotionEmergency
    Parent: ~
  -
    StateName: MotionEmergency
    Transition:
      -
        Key: return_from_emergency
        Target: WaitDriveReady
    Parent: ~
  -
    StateName: Drive
    Transition:
      -
        Key: clear
        Target: Go
      -
        Key: wait
        Target: Wait
      # -
      #   Key: received_stop_command
      #   Target: Wait
      -
        Key: found_stop_decision
        Target: Stop
      -
        Key: operation_end
        Target: WaitDriveReady
      -
        Key: emergency
        Target: MotionEmergency
    Parent: ~
  -
    StateName: Go
    Transition: []
      # -
      #   Key: found_stop_decision
      #   Target: Stop
      # -
      #   Key: received_stop_command
      #   Target: Wait
    Parent: Drive
  -
    StateName: Wait
    Transition: []
      # -
      #   Key: clear
      #   Target: Go
    Parent: Drive
  -
    StateName: Stop
    Transition:
      # -
      #   Key: stopped
      #   Target: Wait
      # -
      #   Key: found_risk
      #   Target: Wait
      # -
      #   Key: clear
      #   Target: Go
      -
        Key: found_stopline
        Target: StopLine
      -
        Key: received_stop_order
        Target: OrderedStop
      -
        Key: found_reserved_stop
        Target: ReservedStop
    Parent: Drive
  -
    StateName: StopLine
    Transition: []
    Parent: Stop
  -
    StateName: OrderedStop
    Transition: []
    Parent: Stop
  -
    StateName: ReservedStop
    Transition: []
    Parent: Stop
